function googleMapGenerator(i){var e={container:null,containerClass:"map",printClass:"map__print",legendClass:"map__legend",apiKey:null,legend:null,print:null,mapLat:-33.85,mapLng:151.24,mapZoom:12,hasInfoWindow:true,hasLegend:true,hasPrint:true,hasMarkerIcon:true,markerIconType:"alpha",markerIconLabel:"",markerIconHexColor:"ffffff",markerIconHexBackground:"444444",markerIcon:null,locations:[],styles:[]};if(i){g(e,i)}var b=document.querySelectorAll(e.container)[0];function h(){var j={zoom:e.mapZoom,center:new google.maps.LatLng(e.mapLat,e.mapLng),mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}};var n=new google.maps.Map(b,j);if(e.hasLegend){var m=document.createElement("div");m.setAttribute("class",e.legendClass);b.appendChild(m);e.legend=a(b,e.legendClass);n.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(e.legend)}d(n,e.locations);var l=new google.maps.StyledMapType(e.styles,{name:"Styled Map"});n.mapTypes.set("map_style",l);n.setMapTypeId("map_style");if(e.hasPrint){var k=document.createElement("a");k.setAttribute("class",e.printClass);k.setAttribute("href","#");k.innerHTML="Print";b.appendChild(k);e.print=a(b,e.printClass);e.print.onclick=function(){c();return false}}return n}function d(j,q){if(e.hasInfoWindow){var l=null;l=new google.maps.InfoWindow({content:"",maxWidth:300})}for(var n=0,k=q.length;n<k;n++){var r=q[n],m=new google.maps.LatLng(r[2],r[3]),o;if(e.hasMarkerIcon){f(n);e.markerIcon="http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld="+e.markerIconLabel+"|"+e.markerIconHexBackground+"|"+e.markerIconHexColor}o=new google.maps.Marker({position:m,map:j,icon:e.markerIcon,title:r[0],html:"<div><h1>"+r[0]+"</h1>"+r[1]+"</div>",zIndex:r[4]});if(e.hasLegend){var p=document.createElement("div");p.setAttribute("class","map__legend__item");p.innerHTML="<strong>"+e.markerIconLabel+"</strong>&nbsp; "+r[0];e.legend.appendChild(p)}if(e.hasInfoWindow){google.maps.event.addListener(o,"click",function(){l.setContent(this.html);l.open(j,this)})}}}function f(j){switch(e.markerIconType){case"alpha":e.markerIconLabel=String.fromCharCode(97+j).toUpperCase();break;case"numeric":e.markerIconLabel=j+1;break}return e.markerIconLabel}function c(){var j=window.open("","mapWin","width=640,height=640"),n="",o="",l="",p="",k=e.locations.length;if(e.key){n="&amp;key="+e.key}if(e.styles[0].stylers[0].hue){o="%7Chue:0x"+e.styles[0].stylers[0].hue.substring(1,e.styles[0].stylers[0].hue.length)}if(e.styles[0].stylers[1].saturation){l="%7Csaturation:"+e.styles[0].stylers[1].saturation}for(var m=0;m<k;m++){p+="&amp;markers=label:"+f(m)+"%7C"+e.locations[m][2]+","+e.locations[m][3]}j.focus();j.document.write("<style>body { margin:0 } img { width: 100%; height: auto; }</style>");j.document.write('<img style="-webkit-user-select: none" src="http://maps.googleapis.com/maps/api/staticmap?center='+e.mapLat+","+e.mapLng+"&amp;zoom="+e.mapZoom+n+"&amp;size=640x640&amp;style=stylers"+o+l+p+'">');j.document.write("<script>setTimeout(function () { window.focus(); window.print(); }, 1500);<\/script>");j.document.close();return}function g(s,r){var u,l,j,k,p,q,o=arguments[0]||{},n=1,m=arguments.length,t=false;if(typeof o==="boolean"){t=o;o=arguments[1]||{};n=2}if(typeof o!=="object"&&!jQuery.isFunction(o)){o={}}if(m===n){o=this;--n}for(;n<m;n++){if((u=arguments[n])!=null){for(l in u){j=o[l];k=u[l];if(o===k){continue}if(t&&k&&(jQuery.isPlainObject(k)||(p=jQuery.isArray(k)))){if(p){p=false;q=j&&jQuery.isArray(j)?j:[]}else{q=j&&jQuery.isPlainObject(j)?j:{}}o[l]=jQuery.extend(t,q,k)}else{if(k!==undefined){o[l]=k}}}}}return o}function a(r,q){var p;for(var o=0,k=r.childNodes.length;o<k;o++){var n=(r.childNodes[o].className!=undefined)?r.childNodes[o].className.split(" "):[];for(var l=0,m=n.length;l<m;l++){if(n[l]==q){p=r.childNodes[o]}}}return p}h();return{addGoogleMap:h,addGoogleMapMarkers:d,getGoogleMapMarkerLabel:f,printGoogleMap:c,extend:g,getChildByClass:a}};